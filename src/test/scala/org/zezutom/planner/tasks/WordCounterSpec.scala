package org.zezutom.planner.tasks

import org.junit.runner.RunWith
import org.scalatest.Matchers
import org.scalatest.junit.JUnitRunner

@RunWith(classOf[JUnitRunner])
class WordCounterSpec extends AppSpec with Matchers {
  "Words of the provided JSON data set" should "be counted" in {
    Given("I execute WordCounter task")
    val task = new WordCounter().execute(repo)

    When("I count records")
    val count = task.outcome
    
    Then("The count should be as expected")
    count should equal(
      Array(
        ("(construction",1),
        ("(development",1),
        ("(listed",1),
        ("(resubmission:",1),
        ("(retrospective",1),
        ("(retrospective)",1),
        ("1.8",1),
        ("11",1),
        ("12",1),
        ("12/01383/ful",1),
        ("12/02066/ful",1),
        ("12/02086/lbc",1),
        ("12/1990/ful",1),
        ("16",1),
        ("17",1),
        ("2",3),
        ("20kv",1),
        ("27",1),
        ("3",3),
        ("3no",1),
        ("4",1),
        ("5",1),
        ("6",2),
        ("60.7m",1),
        ("68",1),
        ("7",1),
        ("9",1),
        ("a",1),
        ("a1",2),
        ("access",4),
        ("ancillary",1),
        ("and",13),
        ("application",1),
        ("application:",1),
        ("asbestos",1),
        ("associated",2),
        ("at",1),
        ("bathrooms",1),
        ("both",1),
        ("boundary",1),
        ("build",1),
        ("building",1),
        ("c/08/00005/ccm",1),
        ("car",1),
        ("caravan",1),
        ("centre",1),
        ("cm/20100028",1),
        ("compound",1),
        ("condition",4),
        ("conditions",2),
        ("connection",1),
        ("consent",1),
        ("conservatory",1),
        ("construction",1),
        ("convert",1),
        ("cottages)",1),
        ("cylinders",1),
        ("demolition",1),
        ("detached",1),
        ("discharge",5),
        ("division",1),
        ("doors",1),
        ("drive",1),
        ("drop",1),
        ("dwelling",2),
        ("dwellings",2),
        ("dwellings)",1),
        ("east",1),
        ("electrical",1),
        ("erection",2),
        ("existing",3),
        ("fence",1),
        ("football",1),
        ("for",2),
        ("former",1),
        ("from",2),
        ("front",1),
        ("fronts",1),
        ("garden",1),
        ("hard",1),
        ("health",1),
        ("heating",1),
        ("house",1),
        ("in",1),
        ("installation",1),
        ("insulation",1),
        ("integrated",1),
        ("into",1),
        ("is",1),
        ("kerb",1),
        ("kitchen",2),
        ("landscaping",1),
        ("landscaping)",1),
        ("line",1),
        ("linings",1),
        ("lpg",1),
        ("metre",1),
        ("new",3),
        ("no",1),
        ("of",21),
        ("off",1),
        ("old",1),
        ("one",1),
        ("out",2),
        ("outbuildings",1),
        ("overall",1),
        ("overhead",1),
        ("panel",1),
        ("park",2),
        ("parking",2),
        ("parking)",1),
        ("part",1),
        ("partitions",1),
        ("permission",5),
        ("pipe",1),
        ("pitches",1),
        ("planning",7),
        ("property",1),
        ("proposed",3),
        ("public",1),
        ("radiators",1),
        ("rear",1),
        ("rebuild",1),
        ("relating",6),
        ("relocation",1),
        ("removal",1),
        ("residential",2),
        ("retrospective:",1),
        ("scheme)",1),
        ("security",1),
        ("shop",1),
        ("shutters",1),
        ("single",1),
        ("standing",1),
        ("street",1),
        ("stripping",2),
        ("sub-standard",1),
        ("systems",1),
        ("the",2),
        ("to",11),
        ("tree",1),
        ("turbine",1),
        ("two",1),
        ("unit",2),
        ("use",2),
        ("variation",1),
        ("west",1),
        ("which",1),
        ("wind",1),
        ("wiring",1),
        ("with",4),
        ("within",1),
        ("work",1),
        ("workshop",1)
      )
    )
  }
}
